Hello all, welcome back to my CSUN Senior Design Blog Site. 

This week, I spent a lot of my time doing work for my Information Security class (which has picked up a bit, and actually become one of my more fun classes). The lab I did this week had to do with setting up a Security Onion instances, and using some of it's tools to analyze malicious traffic. Security Onion is a ISO that can be used to spin up a virtual machine which includes a myriad of tools for network and endpoint intrusion detection and prevention. For this particular lab, we focused a lot of our time on tools such as Sguil and TCPreplay. Sguil is a front end interface for IDS systems, and uses systems such as Snort as it's backend to collect the data that is being analyzed. The nice thing about it is that it shows you right from the landing page, what important traffic is running on your network, and it can flag potentially malicious traffic along with a reason that it was flagged. It then shows a full breakdown of the packet in it's original form, so that you can see data such as source and destination IP, data contained, and timestamp. 

In our lab we used this system to analyze malicious traffic that we generated using TCP replay on some sample malicious pcaps. We TCP replayed attacks such as IP Fragment attacks, where a massive packet is fragmented and sent to a host. Normally, the host will wait until all fragments are sent, and then reconstruct it based off the sequence numbers, in this case however, the size of the packet exceeds the max size of 64KB and sometimes extends as far as 1MB. This way when the host goes to reconstruct it, the system cannot handle it and crashes. This traffic was not reconstructed, as TCP replay cannot reconstruct such a traffic pattern. We did, however, analyze traffic that things such as downloading and running a trojan virus. This was often flagged based of signatures of domain names of known sites, as well as the data contained within known malicious files. For example, windows executables often contain the ascii code "MZ" within the data, as well as "This program cannot be run in DOS mode...". This combined with the contents of the rest of the capture can flag a packet as malicious. We used SGUIL to identify these reasons, and figure out how everything happened. Overall it was a fun lab, and somewhat gave me a new interest in something like malware analysis.

That is it for this week, check back next week for another post.